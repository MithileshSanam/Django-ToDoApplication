<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>To Do App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>

  </head>
  <body>
    <div class="container">

     <nav class="navbar navbar-dark bg-dark mt-4">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">ToDo App</a>
  </div>
</nav>

<nav class="navbar navbar-light bg-light">
  <div class="container-fluid">
    <a class="navbar-brand h2" href="#">Enter the task</a>
  </div>
</nav>

<form class="row align-items-center" action="{% url 'add_task' %}" method='POST'>
  {% csrf_token %}
  <div class="col-6">
    <div class="mb-3 mt-2">

      <input type="text" name='newtask' class="form-control">
    </div>
  </div>
  <div class="col-6">
    <div class="mb-3 mt-2">
    <button type="submit" name='add_task_submit' class="btn btn-primary">Add Task</button>
  </div>
  </div>

</form>

<nav class="navbar navbar-light bg-light">
  <div class="container-fluid">
    <a class="navbar-brand h2" href="#">Tasks</a>
  </div>
</nav>

<ul class="list-group">
  {% for todo_item in todo_items %}

{% if not check_id == todo_item.id %}
<li class="list-group-item">
<div class="row">
  <div class="col-8">
  {{todo_item.task}}
  </div>

<div class="col-2">
  <form action="{% url 'edit_task' todo_id=todo_item.id %}" method="post">
    {% csrf_token %}
<button type="submit" name='edit_task_submit' class="btn btn-sm btn-info">Edit</button>
  </form>
</div>
<div class="col-2">
  <form action="{% url 'delete_task' todo_id=todo_item.id %}" method="post">
    {% csrf_token %}
<button type="submit" name='delete_task_submit' class="btn btn-sm btn-danger">Delete</button>
  </form>
</div>
</div>
</li>
{% else %}
<li class="list-group-item">
<form class="row align-items-center" action="{% url 'update_task' todo_id=todo_item.id %}" method='POST'>
  {% csrf_token %}
  <div class="col-8">
    <div class="mb-2 mt-2">
      <input type="text" name='editedtext' class="form-control" value="{{todo_item.task}}">
    </div>
  </div>
  <div class="col-2">
    <div class="mb-2 mt-2">
    <button type="submit" name='edit_task_submit' name='edit_task_submit' class="btn btn-success btn-sm">Submit</button>
  </div>
  </div>
  <div class="col-2">
    <div class="mb-2 mt-2">
    <button type="submit" name='cancel_task_submit' class="btn btn-primary btn-sm">Cancel</button>
  </div>
  </div>
</form>
</li>
{% endif %}
{% endfor %}
</ul>
    </div>
  </body>
</html>
